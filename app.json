{
  "id": "nl.EcoDim",
  "version": "1.0.3",
  "compatibility": ">=2.0.0",
  "sdk": 2,
  "brandColor": "#3d3884",
  "name": {
    "en": "EcoDim"
  },
  "description": {
    "en": "Adds support for EcoDim Zigbee Z-wave dimmers"
  },
  "category": [
    "lights"
  ],
  "homeyCommunityTopicId": 17632,
  "permissions": [],
  "images": {
    "large": "/assets/images/ecodim-large.png",
    "small": "/assets/images/ecodim-small.png"
  },
  "author": {
    "name": "EcoDim.nl",
    "email": "homey-app@ecodim.nl"
  },
  "contributors": {
    "developers": [
      {
        "name": "Ted Tolboom",
        "email": "dTNL.Homey@gmail.com"
      }
    ]
  },
  "tags": {
    "en": [
      "EcoDim",
      "Eco-Dim.07",
      "Z-wave",
      "Zigbee",
      "dimmer",
      "draai",
      "LED",
      "2-draads",
      "2 draads",
      "Fase afsnijding"
    ]
  },
  "drivers": [
    {
      "id": "eco-dim07-z-wave",
      "name": {
        "en": "ECO-DIM.07 (Z-wave)"
      },
      "class": "light",
      "capabilities": [
        "dim",
        "onoff"
      ],
      "capabilitiesOptions": {
        "onoff": {
          "setOnDim": false
        },
        "dim": {
          "opts": {
            "duration": true
          }
        }
      },
      "energy": {
        "approximation": {
          "usageOn": 0,
          "usageOff": 0
        }
      },
      "images": {
        "large": "/drivers/eco-dim07-z-wave/assets/images/large.png",
        "small": "/drivers/eco-dim07-z-wave/assets/images/small.png"
      },
      "zwave": {
        "manufacturerId": [
          1,
          1073
        ],
        "productTypeId": [
          258,
          514
        ],
        "productId": [
          1
        ],
        "includeSecure": false,
        "__comment": "Reverted back to non secure inclusion due to S2 security handshake issues",
        "learnmode": {
          "image": "/drivers/eco-dim07-z-wave/assets/learnmode.svg",
          "instruction": {
            "en": "To set the dimmer into inclusion mode:\n1. Press the RESET button twice. \nThe LED will start blinking RED indicating that the inclusion mode is activated.\n Once inclusion is succesfull, the LED stop blinking, turn RED for a few seconds and turn off",
            "nl": "Om de dimmer in toevoeg modus te zetten: \n1. Druk de RESET knop twee keer in. \nDe LED knippert ROOD en de inclusion modus is ingeschakeld. \nWanneer het toevoegen succesvol is afgerond, stopt de LED met knipperen, wordt ROOD voor enkele seconden en gaat vervolgens uit."
          }
        },
        "unlearnmode": {
          "image": "/drivers/eco-dim07-z-wave/assets/unlearnmode.svg",
          "instruction": {
            "en": "To remover the press the RESET button twice. \nThe LED will start blinking RED indicating that the exclusion mode is activated.\n Once removal is succesfull, the LED stop blinking, turn RED for a few seconds and turn off",
            "nl": "Om de dimmer te verwijderen, druk de RESET knop twee keer in. \nDe LED knippert ROOD en de exclusion modus is ingeschakeld. \nWanneer het verwijderen succesvol is afgerond, stopt de LED met knipperen, wordt ROOD voor enkele seconden en gaat vervolgens uit."
          }
        },
        "associationGroups": [
          1
        ],
        "associationGroupsOptions": {
          "1": {
            "hint": {
              "en": "Lifeline association group (do not change). The Dimmer will send Switch Multilevel Report when Dimmer state changed (Configurable).",
              "nl": "Lifeline association group (niet aanpassen). De Dimmer stuurt Switch Multilevel Reports wanneer de toestand van de Dimmer aangepast is (instelbaar)."
            }
          }
        }
      },
      "settings": [
        {
          "id": "save_state",
          "value": "0",
          "label": {
            "en": "Restore state after power failure",
            "nl": "Herstel status na stroomonderbreking"
          },
          "hint": {
            "en": "This parameter (1) determines whether after a power failure the device should be restored to the state it had before the power failure.",
            "nl": "Deze parameter (1) bepaalt of het apparaat na een stroomonderbreking moet worden ingesteld zoals deze voor de stroomonderbreking stond ingesteld."
          },
          "zwave": {
            "index": 1,
            "size": 1
          },
          "values": [
            {
              "id": "0",
              "label": {
                "en": "Turn off light (default)",
                "nl": "Schakel de lamp uit (standaard)"
              }
            },
            {
              "id": "1",
              "label": {
                "en": "Turn on light",
                "nl": "Schakel de lamp in"
              }
            },
            {
              "id": "2",
              "label": {
                "en": "Restore state before power failure",
                "nl": "Herstel toestand van voor stroomonderbreking"
              }
            }
          ],
          "type": "dropdown"
        },
        {
          "id": "report_state",
          "value": "1",
          "label": {
            "en": "Report state change",
            "nl": "Rapporteer toestandswijziging"
          },
          "hint": {
            "en": "This parameter (2) determines when the dimmer sends a report  when the status of Dimmer load is changed.",
            "nl": "Deze parameter (2) bepaalt wanneer de dimmer een rapport stuurt wanneer de belasting van de dimmer is veranderd."
          },
          "zwave": {
            "index": 2,
            "size": 1
          },
          "values": [
            {
              "id": "0",
              "label": {
                "en": "Disabled",
                "nl": "Uitgeschakeld"
              }
            },
            {
              "id": "1",
              "label": {
                "en": "Send Switch Multilevel Report for all state changes (default)",
                "nl": "Stuur Switch Multilevel Report voor alle toestandswijzigingen (standaard)"
              }
            },
            {
              "id": "2",
              "label": {
                "en": "Send Switch Multilevel Report only when state changed on device itself",
                "nl": "Stuur Switch Multilevel Report enkel voor toestandswijzigingen vanuit de dimmer zelf"
              }
            }
          ],
          "type": "dropdown"
        }
      ]
    },
    {
      "id": "eco-dim07-zigbee",
      "name": {
        "en": "ECO-DIM.07 (Zigbee)"
      },
      "class": "light",
      "capabilities": [
        "dim",
        "onoff"
      ],
      "capabilitiesOptions": {
        "onoff": {
          "setOnDim": false
        },
        "dim": {
          "opts": {
            "duration": true
          }
        }
      },
      "energy": {
        "approximation": {
          "usageOn": 0,
          "usageOff": 0
        }
      },
      "images": {
        "large": "/drivers/eco-dim07-zigbee/assets/images/large.png",
        "small": "/drivers/eco-dim07-zigbee/assets/images/small.png"
      },
      "zigbee": {
        "manufacturerName": [
          "abcd",
          "Ember",
          "EcoDim B.V"
        ],
        "productId": [
          "Dimmer-Switch-ZB3.0"
        ],
        "deviceId": 257,
        "profileId": 260,
        "learnmode": {
          "image": "/drivers/eco-dim07-zigbee/assets/learnmode.svg",
          "instruction": {
            "en": "To set the dimmer into inclusion mode:\n1. Press the RESET button twice. \nThe LED will start blinking RED indicating that the inclusion mode is activated.\n Once inclusion is succesfull, the LED stop blinking, turn RED for a few seconds and turn off",
            "nl": "Om de dimmer in toevoeg modus te zetten: \n1. Druk de RESET knop twee keer in. \nDe LED knippert ROOD en de inclusion modus is ingeschakeld. \nWanneer het toevoegen succesvol is afgerond, stopt de LED met knipperen, wordt ROOD voor enkele seconden en gaat vervolgens uit."
          }
        },
        "unlearnmode": {
          "image": "/drivers/eco-dim07-zigbee/assets/unlearnmode.svg",
          "instruction": {
            "en": "To remover the press the RESET button twice. \nThe LED will start blinking RED indicating that the exclusion mode is activated.\n Once removal is succesfull, the LED stop blinking, turn RED for a few seconds and turn off",
            "nl": "Om de dimmer te verwijderen, druk de RESET knop twee keer in. \nDe LED knippert ROOD en de exclusion modus is ingeschakeld. \nWanneer het verwijderen succesvol is afgerond, stopt de LED met knipperen, wordt ROOD voor enkele seconden en gaat vervolgens uit."
          }
        }
      },
      "settings": [
        {
          "id": "transition_time",
          "type": "number",
          "label": {
            "en": "Transition Time",
            "nl": "Overgangstijd"
          },
          "hint": {
            "en": "This setting determines the default time in seconds it takes to dim from one level to another.",
            "nl": "Deze instelling bepaalt de duur in seconden van het dimmen van een niveau naar een ander."
          },
          "value": 1,
          "attr": {
            "min": 0,
            "max": 6553
          }
        }
      ]
    }
  ]
}
